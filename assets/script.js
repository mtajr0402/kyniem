function _0x4199(){const e=["floor","ceil","./img/3.jpg","uniforms","min","ringRadius","set","center","./img/2.jpg","left","transparent","src","maxLife","Group","pitchAmplitude","clientX","Số lượng ảnh: ","CylinderGeometry","WebGLRenderer","textBaseline","getY","addColorStop","geometry","insideColor","visible","target","trailPoints","ringMesh","\n        varying vec3 vNormal;\n        void main() {\n            vNormal = normalize(normalMatrix * normal);\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n    ","bold ","getPixelRatio","lerp","\n        varying vec3 vColor;\n        void main() {\n            // Làm cho các hạt có hình tròn thay vì hình vuông\n            float dist = length(gl_PointCoord - vec2(0.5));\n            if (dist > 0.5) discard;\n\n            gl_FragColor = vec4(vColor, 1.0);\n        }\n    ","blur(2px)","rgba(255, 200, 220, 0.8)","Scene","2378610ucKexi","alphabetic","LinearFilter","#a259f7","MeshBasicMaterial","preventDefault","SpriteMaterial","mtajr0402.github.io","domElement","wrapS","innerHeight","data","strokeText","traverse","dataLove2Loveloom","#e0b3ff","F12","materialNear","FogExp2","magFilter","getZ","7CNJSVT","./img/6.jpg","setProperty","contextmenu","innerHTML","slice","BackSide","enabled","ShapeGeometry","click","./img/1.jpg","Color","position","ringTexts","#b2ff59","count","multiplyScalar","name","#3fd8c7","children","\n        varying vec2 vUv;\n        void main() {\n            vUv = uv;\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n    ","   ","./img/5.jpg","length","clone","canvas","fog","userData","life","getMaxAnisotropy","Points","crossOrigin","add","keydown","parent","pow","Shape","key","closePath","hint-icon-group","tiltPhase","spin","SphereGeometry","getBoundingClientRect","enablePan","Raycaster","isPoints","#f8bbd0","isGroup","Image","BufferAttribute","getAttribute","getContext","rollPhase","outputColorSpace","needsUpdate","getPoint","772344JapvsD","\n        uniform float time;\n        uniform sampler2D baseTexture;\n        varying vec2 vUv;\n        void main() {\n            vec2 uv = vUv;\n            float angle = length(uv - vec2(0.5)) * 3.0;\n            float twist = sin(angle * 3.0 + time) * 0.1;\n            uv.x += twist * sin(time * 0.5);\n            uv.y += twist * cos(time * 0.5);\n            vec4 texColor = texture2D(baseTexture, uv);\n            float noise = sin(uv.x * 10.0 + time) * sin(uv.y * 10.0 + time) * 0.1;\n            texColor.rgb += noise * vec3(0.8, 0.4, 0.2);\n            gl_FragColor = texColor;\n        }\n    ","./img/7.jpg","769384nGGRDh","PerspectiveCamera","max","BufferGeometry","remove","container","object","none","value","arcTo","\n            varying vec3 vNormal;\n            void main() {\n                vNormal = normalize(normalMatrix * normal);\n                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n            }\n        ","setSize","409924SSNYnE","cos","geometryFar","rollAmplitude","autoRotate","randomness","innerWidth","ontouchstart","\n            varying vec3 vNormal;\n            uniform float time;\n            void main() {\n                float intensity = pow(0.7 - dot(vNormal, vec3(0.0, 0.0, 1.0)), 2.0);\n                gl_FragColor = vec4(1.0, 1.0, 1.0, intensity * (0.8 + sin(time * 5.0) * 0.2));\n            }\n        ","love","documentElement","mozRequestFullScreen","outsideColor","clientY","randomnessPower","bezierCurveTo","radius","lineWidth","CubicBezierCurve3","top","initialAngle","push","opacity","#ffffff","createElement","createRadialGradient","fontScale","innerText","strokeStyle","1003768bQcXYB","beginPath","repeat","requestFullscreen","speed","main-planet","scale","height","forEach","anisotropy","orientationchange","CanvasTexture","tiltSpeed","setDrawRange","main-glow","appendChild","div","autoRotateSpeed","log","setFromCamera","webkitRequestFullscreen","ctrlKey","updateProjectionMatrix","restore",", Điểm mỗi ảnh: ","setFromPoints","684305mvpRIy","onload","isTextRing","addScaledVector","material","classList","other","latin","map","RingGeometry","AdditiveBlending","random","copy","arms","#ffb3de","cjk","ShaderMaterial","fillRect","rgba(0,0,0,0)","maxDistance","charCodeAt","shiftKey","capabilities","normalize","font","filter","278166piCcZY","lineTo","geometryNear","atan2","NormalBlending","drawImage","textAlign","sin","clip","white","render","update","lookAt","Mesh","shadowColor","initialPosition","intro-started","type","materialFar","starfield","vertexShader","_blank","fillText","devicePixelRatio","rotation","addEventListener","px Arial, sans-serif","msRequestFullscreen","--vh","shadowBlur","resize","distanceTo","textRings","SRGBColorSpace","./gift.html","Anonymous","#f48fb1","stroke","color","minDistance","getWorldPosition","body","progress","translate","head","DOMContentLoaded","#e1aaff","Vector2","renderOrder","getElementById","moveTo","#fff","hsla(",", 80%, 50%, 0.6)","PointsMaterial","spacingScale","rgba(255,255,255,0.8)","width","time","TextureLoader","getX","portrait-mode","enableDamping","setAttribute","intersectObject","LineBasicMaterial","clearRect","#f06292","style","Vector3","angleOffset","fillStyle","DoubleSide","trail","now"];return(_0x4199=function(){return e})()}const _0xd321f9=_0x3cbc;!function(e,t){const n=_0x3cbc,a=_0x4199();for(;;)try{if(398658===-parseInt(n(432))/1+parseInt(n(240))/2+parseInt(n(351))/3+parseInt(n(444))/4+parseInt(n(214))/5+-parseInt(n(429))/6+-parseInt(n(372))/7*(-parseInt(n(188))/8))break;a.push(a.shift())}catch(e){a.push(a.shift())}}();import*as _0x2b0e79 from"three";import{OrbitControls}from"three/addons/controls/OrbitControls.js";import{FontLoader}from"three/examples/jsm/loaders/FontLoader.js";import{TextGeometry}from"three/examples/jsm/geometries/TextGeometry.js";const scene=new(_0x2b0e79[_0xd321f9(350)]);scene[_0xd321f9(398)]=new(_0x2b0e79[_0xd321f9(369)])(0,.0015);const camera=new(_0x2b0e79[_0xd321f9(433)])(75,window[_0xd321f9(450)]/window[_0xd321f9(361)],.1,1e5);camera.position[_0xd321f9(321)](0,20,30);const renderer=new(_0x2b0e79[_0xd321f9(333)])({antialias:!0});renderer.setSize(window[_0xd321f9(450)],window[_0xd321f9(361)]),renderer.setPixelRatio(Math[_0xd321f9(319)](window[_0xd321f9(263)],2)),renderer[_0xd321f9(426)]=_0x2b0e79.SRGBColorSpace,document[_0xd321f9(289)](_0xd321f9(437)).appendChild(renderer[_0xd321f9(359)]);const controls=new OrbitControls(camera,renderer[_0xd321f9(359)]);function createGlowMaterial(e,t=128,n=.55){const a=_0xd321f9,o=document[a(183)](a(397));o[a(297)]=o[a(195)]=t;const r=o.getContext("2d"),i=r[a(184)](t/2,t/2,0,t/2,t/2,t/2);i[a(336)](0,e),i.addColorStop(1,a(232)),r[a(311)]=i,r[a(231)](0,0,t,t);const s=new(_0x2b0e79[a(199)])(o),d=new(_0x2b0e79[a(357)])({map:s,transparent:!0,opacity:n,depthWrite:!1,blending:_0x2b0e79.AdditiveBlending});return new _0x2b0e79.Sprite(d)}controls[_0xd321f9(302)]=!0,controls[_0xd321f9(448)]=!0,controls[_0xd321f9(205)]=.1,controls[_0xd321f9(379)]=!1,controls[_0xd321f9(340)].set(0,0,0),controls[_0xd321f9(416)]=!1,controls[_0xd321f9(279)]=15,controls[_0xd321f9(233)]=300,controls.zoomSpeed=.3,controls.rotateSpeed=.3,controls[_0xd321f9(251)]();const centralGlow=createGlowMaterial(_0xd321f9(296),156,.25);centralGlow[_0xd321f9(194)].set(8,8,1),scene[_0xd321f9(404)](centralGlow);for(let e=0;e<15;e++){const e=360*Math[_0xd321f9(225)](),t=createGlowMaterial(_0xd321f9(292)+e+_0xd321f9(293),256);t[_0xd321f9(194)].set(100,100,1),t.position[_0xd321f9(321)](175*(Math[_0xd321f9(225)]()-.5),175*(Math[_0xd321f9(225)]()-.5),175*(Math[_0xd321f9(225)]()-.5)),scene[_0xd321f9(404)](t)}const galaxyParameters={count:1e5,arms:6,radius:100,spin:.5,randomness:.2,randomnessPower:20,insideColor:new(_0x2b0e79[_0xd321f9(383)])(14040790),outsideColor:new(_0x2b0e79[_0xd321f9(383)])(4765880)},heartImages=[...window[_0xd321f9(365)]&&window[_0xd321f9(365)][_0xd321f9(362)].heartImages?window[_0xd321f9(365)][_0xd321f9(362)].heartImages:[],_0xd321f9(382),_0xd321f9(323),_0xd321f9(317),"./img/4.jpg",_0xd321f9(394),_0xd321f9(373),_0xd321f9(431),"./img/8.jpg","./img/gift.png"],textureLoader=new(_0x2b0e79[_0xd321f9(299)]),numGroups=heartImages[_0xd321f9(395)],maxDensity=15e3,minDensity=4e3,maxGroupsForScale=6;let pointsPerGroup;if(numGroups<=1)pointsPerGroup=15e3;else if(numGroups>=6)pointsPerGroup=4e3;else{const e=(numGroups-1)/5;pointsPerGroup=Math[_0xd321f9(315)](15e3*(1-e)+4e3*e)}pointsPerGroup*numGroups>galaxyParameters[_0xd321f9(387)]&&(pointsPerGroup=Math[_0xd321f9(315)](galaxyParameters[_0xd321f9(387)]/numGroups)),console[_0xd321f9(206)](_0xd321f9(331)+numGroups+_0xd321f9(212)+pointsPerGroup);const positions=new Float32Array(3*galaxyParameters[_0xd321f9(387)]),colors=new Float32Array(3*galaxyParameters[_0xd321f9(387)]);let pointIdx=0;for(let e=0;e<galaxyParameters.count;e++){const t=Math[_0xd321f9(407)](Math[_0xd321f9(225)](),galaxyParameters[_0xd321f9(458)])*galaxyParameters[_0xd321f9(460)],n=e%galaxyParameters.arms/galaxyParameters[_0xd321f9(227)]*Math.PI*2,a=t*galaxyParameters[_0xd321f9(413)],o=(Math.random()-.5)*galaxyParameters.randomness*t,r=(Math[_0xd321f9(225)]()-.5)*galaxyParameters[_0xd321f9(449)]*t*.5,i=(Math[_0xd321f9(225)]()-.5)*galaxyParameters[_0xd321f9(449)]*t,s=n+a;if(t<30&&Math.random()<.7)continue;const d=3*pointIdx;positions[d]=Math[_0xd321f9(445)](s)*t+o,positions[d+1]=r,positions[d+2]=Math.sin(s)*t+i;const l=new _0x2b0e79.Color(16738047);l[_0xd321f9(346)](new(_0x2b0e79[_0xd321f9(383)])(6750207),t/galaxyParameters[_0xd321f9(460)]),l.multiplyScalar(.7+.3*Math.random()),colors[d]=l.r,colors[d+1]=l.g,colors[d+2]=l.b,pointIdx++}const galaxyGeometry=new(_0x2b0e79[_0xd321f9(435)]);galaxyGeometry[_0xd321f9(303)](_0xd321f9(384),new(_0x2b0e79[_0xd321f9(422)])(positions[_0xd321f9(377)](0,3*pointIdx),3)),galaxyGeometry[_0xd321f9(303)](_0xd321f9(278),new _0x2b0e79.BufferAttribute(colors[_0xd321f9(377)](0,3*pointIdx),3));const galaxyMaterial=new(_0x2b0e79[_0xd321f9(230)])({uniforms:{uTime:{value:0},uSize:{value:50*renderer[_0xd321f9(345)]()},uRippleTime:{value:-1},uRippleSpeed:{value:40},uRippleWidth:{value:20}},vertexShader:"\n        uniform float uSize;\n        uniform float uTime;\n        uniform float uRippleTime;\n        uniform float uRippleSpeed;\n        uniform float uRippleWidth;\n\n        varying vec3 vColor;\n\n        void main() {\n            // Lấy màu gốc từ geometry (giống hệt vertexColors: true)\n            vColor = color;\n\n            vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n\n            // ---- LOGIC HIỆU ỨNG GỢN SÓNG ----\n            if (uRippleTime > 0.0) {\n                float rippleRadius = (uTime - uRippleTime) * uRippleSpeed;\n                float particleDist = length(modelPosition.xyz);\n\n                float strength = 1.0 - smoothstep(rippleRadius - uRippleWidth, rippleRadius + uRippleWidth, particleDist);\n                strength *= smoothstep(rippleRadius + uRippleWidth, rippleRadius - uRippleWidth, particleDist);\n\n                if (strength > 0.0) {\n                    vColor += vec3(strength * 2.0); // Làm màu sáng hơn khi sóng đi qua\n                }\n            }\n\n            vec4 viewPosition = viewMatrix * modelPosition;\n            gl_Position = projectionMatrix * viewPosition;\n            // Dòng này làm cho các hạt nhỏ hơn khi ở xa, mô phỏng hành vi của PointsMaterial\n            gl_PointSize = uSize / -viewPosition.z;\n        }\n    ",fragmentShader:_0xd321f9(347),blending:_0x2b0e79[_0xd321f9(224)],depthWrite:!1,transparent:!0,vertexColors:!0}),galaxy=new(_0x2b0e79[_0xd321f9(402)])(galaxyGeometry,galaxyMaterial);function createNeonTexture(e,t){const n=_0xd321f9,a=window.devicePixelRatio||1,o=document[n(183)](n(397));o[n(297)]=o.height=t*a,o[n(308)].width=o[n(308)][n(195)]=t+"px";const r=o[n(424)]("2d");r[n(194)](a,a);const i=e[n(297)]/e.height;let s,d,l,c;i>1?(s=t,d=t/i,l=0,c=(t-d)/2):(d=t,s=t*i,l=(t-s)/2,c=0),r[n(306)](0,0,t,t);const x=.1*t;r.save(),r[n(189)](),r[n(290)](l+x,c),r[n(241)](l+s-x,c),r[n(441)](l+s,c,l+s,c+x,x),r.lineTo(l+s,c+d-x),r.arcTo(l+s,c+d,l+s-x,c+d,x),r[n(241)](l+x,c+d),r.arcTo(l,c+d,l,c+d-x,x),r[n(241)](l,c+x),r.arcTo(l,c,l+x,c,x),r.closePath(),r[n(248)](),r[n(245)](e,l,c,s,d),r[n(211)]();const f=new(_0x2b0e79[n(199)])(o);return f.minFilter=_0x2b0e79[n(353)],f[n(370)]=_0x2b0e79[n(353)],f[n(197)]=renderer[n(236)][n(401)](),f.colorSpace=_0x2b0e79[n(273)],f}scene.add(galaxy);for(let e=0;e<numGroups;e++){const t=new Float32Array(3*pointsPerGroup),n=new Float32Array(3*pointsPerGroup),a=new Float32Array(3*pointsPerGroup);let o=0;for(let r=0;r<pointsPerGroup;r++){const i=3*o,s=e*pointsPerGroup+r,d=Math[_0xd321f9(407)](Math[_0xd321f9(225)](),galaxyParameters[_0xd321f9(458)])*galaxyParameters[_0xd321f9(460)];if(d<30)continue;const l=s%galaxyParameters[_0xd321f9(227)]/galaxyParameters.arms*Math.PI*2,c=d*galaxyParameters[_0xd321f9(413)],x=(Math[_0xd321f9(225)]()-.5)*galaxyParameters.randomness*d,f=(Math.random()-.5)*galaxyParameters[_0xd321f9(449)]*d*.5,m=(Math.random()-.5)*galaxyParameters[_0xd321f9(449)]*d,_=l+c;t[i]=Math[_0xd321f9(445)](_)*d+x,t[i+1]=f,t[i+2]=Math.sin(_)*d+m;const p=new _0x2b0e79.Color(16777215);n[i]=p.r,n[i+1]=p.g,n[i+2]=p.b;const u=galaxyParameters[_0xd321f9(338)][_0xd321f9(396)]();u[_0xd321f9(346)](galaxyParameters[_0xd321f9(456)],d/galaxyParameters.radius),u[_0xd321f9(388)](.7+.3*Math[_0xd321f9(225)]()),a[i]=u.r,a[i+1]=u.g,a[i+2]=u.b,o++}if(0===o)continue;const r=new(_0x2b0e79[_0xd321f9(435)]);r[_0xd321f9(303)](_0xd321f9(384),new(_0x2b0e79[_0xd321f9(422)])(t[_0xd321f9(377)](0,3*o),3)),r[_0xd321f9(303)]("color",new(_0x2b0e79[_0xd321f9(422)])(n[_0xd321f9(377)](0,3*o),3));const i=new(_0x2b0e79[_0xd321f9(435)]);i[_0xd321f9(303)](_0xd321f9(384),new(_0x2b0e79[_0xd321f9(422)])(t[_0xd321f9(377)](0,3*o),3)),i.setAttribute(_0xd321f9(278),new(_0x2b0e79[_0xd321f9(422)])(a.slice(0,3*o),3));const s=i[_0xd321f9(423)](_0xd321f9(384));let d=0,l=0,c=0;for(let e=0;e<s[_0xd321f9(387)];e++)d+=s[_0xd321f9(300)](e),l+=s.getY(e),c+=s[_0xd321f9(371)](e);d/=s[_0xd321f9(387)],l/=s[_0xd321f9(387)],c/=s.count,r.translate(-d,-l,-c),i[_0xd321f9(283)](-d,-l,-c);const x=new(window[_0xd321f9(421)]);x[_0xd321f9(403)]=_0xd321f9(275),x[_0xd321f9(326)]=heartImages[e],x[_0xd321f9(215)]=()=>{const e=_0xd321f9,t=createNeonTexture(x,256),n=new(_0x2b0e79[e(294)])({size:1.8,map:t,transparent:!1,alphaTest:.2,depthWrite:!0,depthTest:!0,blending:_0x2b0e79[e(244)],vertexColors:!0}),a=new _0x2b0e79.PointsMaterial({size:1.8,map:t,transparent:!0,alphaTest:.2,depthWrite:!1,blending:_0x2b0e79[e(224)],vertexColors:!0}),o=new(_0x2b0e79[e(402)])(i,a);o.position[e(321)](d,l,c),o[e(399)][e(368)]=n,o[e(399)][e(242)]=r,o[e(399)][e(258)]=a,o.userData[e(446)]=i,scene.add(o)}}const ambientLight=new _0x2b0e79.AmbientLight(16777215,.2);scene.add(ambientLight);const starCount=2e4,starGeometry=new(_0x2b0e79[_0xd321f9(435)]),starPositions=new Float32Array(6e4);for(let e=0;e<2e4;e++)starPositions[3*e]=900*(Math[_0xd321f9(225)]()-.5),starPositions[3*e+1]=900*(Math[_0xd321f9(225)]()-.5),starPositions[3*e+2]=900*(Math[_0xd321f9(225)]()-.5);starGeometry.setAttribute(_0xd321f9(384),new(_0x2b0e79[_0xd321f9(422)])(starPositions,3));const starMaterial=new(_0x2b0e79[_0xd321f9(294)])({color:16777215,size:.7,transparent:!0,opacity:.7,depthWrite:!1}),starField=new(_0x2b0e79[_0xd321f9(402)])(starGeometry,starMaterial);starField[_0xd321f9(389)]=_0xd321f9(259),starField[_0xd321f9(288)]=999,scene.add(starField);let shootingStars=[];function createShootingStar(){const e=_0xd321f9,t=new(_0x2b0e79[e(414)])(2,32,32),n=new(_0x2b0e79[e(355)])({color:16777215,transparent:!0,opacity:0,blending:_0x2b0e79.AdditiveBlending}),a=new(_0x2b0e79[e(253)])(t,n),o=new(_0x2b0e79[e(414)])(3,32,32),r=new(_0x2b0e79[e(230)])({uniforms:{time:{value:0}},vertexShader:e(442),fragmentShader:e(452),transparent:!0,blending:_0x2b0e79[e(224)],side:_0x2b0e79[e(378)]}),i=new(_0x2b0e79[e(253)])(o,r);a.add(i);const s=new(_0x2b0e79[e(414)])(1.05*planetRadius,48,48),d=new(_0x2b0e79[e(230)])({uniforms:{glowColor:{value:new(_0x2b0e79[e(383)])(14726143)}},vertexShader:e(343),fragmentShader:"\n        varying vec3 vNormal;\n        uniform vec3 glowColor;\n        void main() {\n            float intensity = pow(0.7 - dot(vNormal, vec3(0.0, 0.0, 1.0)), 2.0);\n            gl_FragColor = vec4(glowColor, 1.0) * intensity;\n        }\n    ",side:_0x2b0e79[e(378)],blending:_0x2b0e79[e(224)],transparent:!0}),l=new(_0x2b0e79[e(253)])(s,d);planet[e(404)](l);const c=createRandomCurve(),x=[];for(let t=0;t<100;t++){const n=t/99;x[e(180)](c.getPoint(n))}const f=(new(_0x2b0e79[e(435)]))[e(213)](x),m=new(_0x2b0e79[e(305)])({color:10087167,transparent:!0,opacity:.7,linewidth:2}),_=new _0x2b0e79.Line(f,m),p=new(_0x2b0e79[e(328)]);p.add(a),p[e(404)](_),p.userData={curve:c,progress:0,speed:.001+.001*Math[e(225)](),life:0,maxLife:300,head:a,trail:_,trailLength:100,trailPoints:x},scene[e(404)](p),shootingStars.push(p)}function createRandomCurve(){const e=_0xd321f9,t=new(_0x2b0e79[e(309)])(100*Math.random()-200,200*Math[e(225)]()-100,200*Math[e(225)]()-100),n=new(_0x2b0e79[e(309)])(600+200*Math[e(225)](),t.y+(200*Math[e(225)]()-100),t.z+(200*Math[e(225)]()-100)),a=new(_0x2b0e79[e(309)])(t.x+200+100*Math[e(225)](),t.y+(100*Math[e(225)]()-50),t.z+(100*Math.random()-50)),o=new _0x2b0e79.Vector3(n.x-200+100*Math.random(),n.y+(100*Math[e(225)]()-50),n.z+(100*Math[e(225)]()-50));return[].push(t,a,o,n),new(_0x2b0e79[e(177)])(t,a,o,n)}function createPlanetTexture(e=512){const t=_0xd321f9,n=document[t(183)]("canvas");n[t(297)]=n[t(195)]=e;const a=n[t(424)]("2d"),o=a[t(184)](e/2,e/2,e/8,e/2,e/2,e/2);o[t(336)](0,t(419)),o[t(336)](.12,t(276)),o.addColorStop(.22,t(307)),o.addColorStop(.35,t(182)),o[t(336)](.5,t(286)),o[t(336)](.62,t(354)),o[t(336)](.75,"#b2ff59"),o[t(336)](1,t(390)),a.fillStyle=o,a.fillRect(0,0,e,e);const r=[t(419),t(419),t(276),"#f48fb1","#f06292","#f06292",t(182),t(286),t(354),t(386)];for(let n=0;n<40;n++){const n=Math[t(225)]()*e,o=Math.random()*e,i=30+120*Math[t(225)](),s=r[Math[t(315)](Math[t(225)]()*r[t(395)])],d=a[t(184)](n,o,0,n,o,i);d[t(336)](0,s+"cc"),d[t(336)](1,s+"00"),a[t(311)]=d,a[t(231)](0,0,e,e)}for(let n=0;n<8;n++)a.beginPath(),a.moveTo(Math[t(225)]()*e,Math.random()*e),a[t(459)](Math.random()*e,Math[t(225)]()*e,Math.random()*e,Math[t(225)]()*e,Math.random()*e,Math[t(225)]()*e),a[t(187)]="rgba(180, 120, 200, "+(.12+.18*Math[t(225)]())+")",a[t(176)]=8+18*Math[t(225)](),a[t(277)]();return void 0!==a[t(239)]&&(a[t(239)]=t(348),a[t(245)](n,0,0),a[t(239)]=t(439)),new(_0x2b0e79[t(199)])(n)}const stormShader={uniforms:{time:{value:0},baseTexture:{value:null}},vertexShader:_0xd321f9(392),fragmentShader:_0xd321f9(430)},planetRadius=10,planetGeometry=new(_0x2b0e79[_0xd321f9(414)])(planetRadius,48,48),planetTexture=createPlanetTexture(),planetMaterial=new(_0x2b0e79[_0xd321f9(230)])({uniforms:{time:{value:0},baseTexture:{value:planetTexture}},vertexShader:stormShader[_0xd321f9(260)],fragmentShader:stormShader.fragmentShader}),planet=new(_0x2b0e79[_0xd321f9(253)])(planetGeometry,planetMaterial);planet[_0xd321f9(384)].set(0,0,0),scene[_0xd321f9(404)](planet);const ringTexts=["Galaxy",_0xd321f9(453),...window[_0xd321f9(365)]&&window.dataLove2Loveloom[_0xd321f9(362)][_0xd321f9(385)]?window[_0xd321f9(365)][_0xd321f9(362)][_0xd321f9(385)]:[]];function createTextRings(){const e=_0xd321f9,t=ringTexts[e(395)],n=1.1*planetRadius;window[e(272)]=[];for(let o=0;o<t;o++){const r=ringTexts[o%ringTexts[e(395)]]+e(393),i=n+5*o;function a(t){const n=e,a=t[n(234)](0);return n(a>=19968&&a<=40959||a>=12352&&a<=12447||a>=12448&&a<=12543||a>=44032&&a<=55215?229:a>=0&&a<=127?221:220)}let s={cjk:0,latin:0,other:0};for(let I of r)s[a(I)]++;const d=r[e(395)],l=s[e(229)]/d;let c={fontScale:.75,spacingScale:1.1};0===o?(c.fontScale=.55,c[e(295)]=.9):1===o&&(c[e(185)]=.65,c.spacingScale=1),l>0&&(c[e(185)]*=.9,c[e(295)]*=1.1);const x=200,f=Math[e(434)](120,.9*x),m=document[e(183)](e(397))[e(424)]("2d");m.font=e(344)+f+"px Arial, sans-serif";let _=ringTexts[o%ringTexts[e(395)]]+e(393),p=m.measureText(_)[e(297)],u=2*Math.PI*i*180,h=Math[e(316)](u/p),g="";for(let G=0;G<h;G++)g+=_;let w=p*h;(w<1||!g)&&(g=_,w=p);const b=document[e(183)](e(397));b.width=Math[e(316)](Math[e(434)](1,w)),b.height=x;const v=b.getContext("2d");v[e(306)](0,0,b[e(297)],x),v[e(238)]="bold "+f+"px Arial, sans-serif",v.fillStyle=e(249),v[e(246)]=e(324),v[e(334)]=e(352),v[e(254)]=e(366),v[e(269)]=24,v[e(176)]=6,v[e(187)]=e(291),v.strokeText(g,0,.8*x),v[e(254)]=e(228),v[e(269)]=16,v[e(262)](g,0,.8*x);const y=new _0x2b0e79.CanvasTexture(b);y[e(360)]=_0x2b0e79.RepeatWrapping,y[e(190)].x=w/u,y[e(427)]=!0;const M=new(_0x2b0e79[e(332)])(i,i,1,128,1,!0),P=new(_0x2b0e79[e(355)])({map:y,transparent:!0,side:_0x2b0e79[e(312)],alphaTest:.01}),S=new _0x2b0e79.Mesh(M,P);S.position[e(321)](0,0,0),S.rotation.y=Math.PI/2;const T=new(_0x2b0e79[e(328)]);T[e(404)](S),T[e(399)]={ringRadius:i,angleOffset:.15*Math.PI*.5,speed:.008,tiltSpeed:0,rollSpeed:0,pitchSpeed:0,tiltAmplitude:Math.PI/3,rollAmplitude:Math.PI/6,pitchAmplitude:Math.PI/8,tiltPhase:2*Math.PI,rollPhase:2*Math.PI,pitchPhase:2*Math.PI,isTextRing:!0};const C=o/t*(Math.PI/1);T[e(264)].x=C,scene[e(404)](T),window[e(272)][e(180)](T)}}function updateTextRingsRotation(){const e=_0xd321f9;window.textRings&&camera&&window[e(272)][e(196)](((t,n)=>{const a=e;t.children[a(196)]((e=>{const n=a;if(void 0!==e[n(399)][n(179)]){const a=e[n(399)].initialAngle+t[n(399)][n(310)],o=Math[n(445)](a)*e.userData[n(320)],r=Math[n(247)](a)*e[n(399)][n(320)];e.position[n(321)](o,0,r);const i=new _0x2b0e79.Vector3;e[n(280)](i);const s=(new(_0x2b0e79[n(309)])).subVectors(camera[n(384)],i)[n(237)](),d=Math[n(243)](s.x,s.z);e[n(264)].y=d}}))}))}function animatePlanetSystem(){const e=_0xd321f9;if(window[e(272)]){const t=.001*Date[e(314)]();window[e(272)].forEach(((n,a)=>{const o=e,r=n[o(399)];r[o(310)]+=r[o(192)];const i=Math[o(247)](t*r[o(200)]+r[o(412)])*r.tiltAmplitude,s=Math[o(445)](t*r.rollSpeed+r[o(425)])*r[o(447)],d=Math[o(247)](t*r.pitchSpeed+r.pitchPhase)*r[o(329)];n[o(264)].x=a/window.textRings[o(395)]*(Math.PI/1)+i,n[o(264)].z=s,n[o(264)].y=r.angleOffset+d;const l=.3*Math[o(247)](t*(.7*r[o(200)])+r[o(412)]);n.position.y=l;const c=(Math[o(247)](1.5*t+a)+1)/2,x=n[o(391)][0];x&&x[o(218)]&&(x[o(218)][o(181)]=.7+.3*c)})),updateTextRingsRotation()}}createTextRings();let hintIcon,hintText,fadeOpacity=.1,fadeInProgress=!1;function createHintIcon(){const e=_0xd321f9;hintIcon=new(_0x2b0e79[e(328)]),hintIcon[e(389)]=e(411),scene.add(hintIcon);const t=new(_0x2b0e79[e(328)]),n=new(_0x2b0e79[e(408)]),a=.75;n[e(290)](0,0),n[e(241)](.4*-.75,.7*-1.5),n[e(241)](-.1875,.7*-1.5),n[e(241)](-.375,-1.5),n[e(241)](.375,-1.5),n[e(241)](.1875,.7*-1.5),n[e(241)](.4*a,.7*-1.5),n[e(410)]();const o=new(_0x2b0e79[e(380)])(n),r=new(_0x2b0e79[e(355)])({color:16777215,side:_0x2b0e79[e(312)]}),i=new(_0x2b0e79[e(253)])(o,r),s=new _0x2b0e79.ShapeGeometry(n),d=new(_0x2b0e79[e(355)])({color:16777215,side:_0x2b0e79[e(312)]}),l=new(_0x2b0e79[e(253)])(s,d);l[e(194)][e(321)](.8,.8,1),l.position.z=.01,t[e(404)](i,l),t[e(384)].y=.75,t[e(264)].x=Math.PI/2;const c=new(_0x2b0e79[e(223)])(1.8,2,32),x=new(_0x2b0e79[e(355)])({color:16777215,side:_0x2b0e79[e(312)],transparent:!0,opacity:.6}),f=new(_0x2b0e79[e(253)])(c,x);f[e(264)].x=Math.PI/2,hintIcon[e(399)][e(342)]=f,hintIcon[e(404)](t),hintIcon[e(404)](f),hintIcon[e(384)][e(321)](1.5,1.5,15),hintIcon[e(194)][e(321)](.8,.8,.8),hintIcon[e(252)](planet[e(384)]),hintIcon[e(399)][e(255)]=hintIcon[e(384)][e(396)]()}function animateHintIcon(e){const t=_0xd321f9;if(hintIcon)if(introStarted)hintIcon&&(hintIcon[t(339)]=!1),hintText&&(hintText[t(339)]=!1);else{hintIcon[t(339)]=!0;const n=2.5,a=1.5,o=Math[t(247)](e*n)*a,r=new _0x2b0e79.Vector3;hintIcon.getWorldDirection(r),hintIcon[t(384)][t(226)](hintIcon[t(399)][t(255)])[t(217)](r,-o);const i=hintIcon[t(399)][t(342)],s=1+.1*Math.sin(e*n);i[t(194)][t(321)](s,s,1),i[t(218)][t(181)]=.5+.2*Math[t(247)](e*n),hintText&&(hintText.visible=!0,hintText[t(218)][t(181)]=.7+.3*Math.sin(3*e),hintText[t(384)].y=15+.5*Math[t(247)](2*e),hintText.lookAt(camera[t(384)]))}}function animate(){const e=_0xd321f9;requestAnimationFrame(animate);const t=.001*performance[e(314)]();animateHintIcon(t),controls[e(251)](),planet[e(218)][e(318)][e(298)].value=.5*t,fadeInProgress&&fadeOpacity<1&&(fadeOpacity+=.025,fadeOpacity>1&&(fadeOpacity=1)),introStarted?scene.traverse((t=>{const n=e;t[n(399)][n(216)]||t[n(406)]&&t[n(406)].userData&&t[n(406)].userData[n(216)]||t===planet||t===centralGlow||t[n(257)]===n(350)?t[n(218)]&&void 0!==t[n(218)][n(181)]&&(t.material[n(181)]=1,t[n(218)][n(325)]=!1):t[n(218)]&&void 0!==t.material[n(181)]&&(t.material[n(325)]=!0,t[n(218)][n(181)]=fadeOpacity),t[n(218)]&&t.material[n(278)]&&t[n(218)].color.set(16777215)})):(fadeOpacity=.1,scene[e(364)]((t=>{const n=e;t.name!==n(259)?t[n(399)][n(216)]||t.parent&&t.parent.userData&&t.parent[n(399)][n(216)]?(t[n(218)]&&void 0!==t.material[n(181)]&&(t.material[n(325)]=!1,t.material.opacity=1),t[n(218)]&&t[n(218)][n(278)]&&t[n(218)][n(278)].set(16777215)):t!==planet&&t!==centralGlow&&t!==hintIcon&&t[n(257)]!==n(350)&&!t[n(406)][n(420)]&&t[n(218)]&&void 0!==t[n(218)].opacity&&(t[n(218)][n(325)]=!0,t.material.opacity=.1):t.points&&void 0!==t[n(218)][n(181)]&&(t.material.transparent=!1,t[n(218)].opacity=1)})),planet[e(339)]=!0,centralGlow[e(339)]=!0);for(let n=shootingStars.length-1;n>=0;n--){const a=shootingStars[n];a[e(399)][e(400)]++;let o=1;if(a[e(399)][e(400)]<30?o=a[e(399)].life/30:a[e(399)][e(400)]>a[e(399)].maxLife-30&&(o=(a[e(399)][e(327)]-a.userData[e(400)])/30),a[e(399)][e(282)]+=a.userData[e(192)],a[e(399)][e(282)]>1){scene[e(436)](a),shootingStars.splice(n,1);continue}const r=a[e(399)].curve[e(428)](a[e(399)][e(282)]);a.position[e(226)](r),a[e(399)][e(284)][e(218)][e(181)]=o,a[e(399)][e(284)][e(391)][0][e(218)][e(318)].time[e(440)]=t;const i=a[e(399)][e(313)],s=a[e(399)][e(341)];s[0][e(226)](r);for(let t=1;t<a[e(399)].trailLength;t++){const n=Math[e(434)](0,a[e(399)][e(282)]-.01*t);s[t][e(226)](a.userData.curve[e(428)](n))}i[e(337)][e(213)](s),i[e(218)].opacity=.7*o}shootingStars[e(395)]<3&&Math[e(225)]()<.02&&createShootingStar(),scene[e(364)]((t=>{const n=e;if(t[n(418)]&&t.userData[n(368)]&&t[n(399)][n(258)]){const e=t[n(337)][n(423)]("position");let a=!1;for(let o=0;o<e.count;o++){const r=e[n(300)](o)+t.position.x,i=e[n(335)](o)+t[n(384)].y,s=e[n(371)](o)+t[n(384)].z;if(camera[n(384)][n(271)](new(_0x2b0e79[n(309)])(r,i,s))<10){a=!0;break}}a?t.material!==t[n(399)][n(368)]&&(t[n(218)]=t[n(399)][n(368)],t[n(337)]=t[n(399)][n(242)]):t[n(218)]!==t[n(399)][n(258)]&&(t[n(218)]=t.userData[n(258)],t[n(337)]=t[n(399)][n(446)])}})),planet[e(252)](camera[e(384)]),animatePlanetSystem(),starField&&starField.material&&void 0!==starField[e(218)][e(181)]&&(starField[e(218)].opacity=1,starField[e(218)].transparent=!1),renderer[e(250)](scene,camera)}function createHintText(){const e=_0xd321f9,t=512,n=document[e(183)](e(397));n.width=n.height=t;const a=n[e(424)]("2d"),o="Chạm Vào Tinh Cầu";a[e(238)]=e(344)+50+e(266),a.textAlign=e(322),a[e(334)]="middle",a[e(254)]=e(228),a[e(269)]=5,a[e(176)]=2,a[e(187)]=e(349),a[e(363)](o,256,256),a[e(254)]=e(366),a[e(269)]=5,a[e(176)]=2,a[e(187)]="rgba(220, 180, 255, 0.5)",a[e(363)](o,256,256),a[e(254)]="transparent",a[e(269)]=0,a[e(311)]="white",a[e(262)](o,256,256);const r=new(_0x2b0e79[e(199)])(n);r[e(427)]=!0;const i=new(_0x2b0e79[e(355)])({map:r,transparent:!0,side:_0x2b0e79[e(312)]}),s=new _0x2b0e79.PlaneGeometry(16,8);hintText=new(_0x2b0e79[e(253)])(s,i),hintText[e(384)][e(321)](0,15,0),scene[e(404)](hintText)}function startCameraAnimation(){const e=_0xd321f9,t={x:camera[e(384)].x,y:camera[e(384)].y,z:camera[e(384)].z},n=t.x,a=0,o=t.z,r=t.x,i=0,s=160,d=-40,l=100,c=100,x=.2,f=.55;let m=0;controls[e(379)]=!1,function _(){const p=e;let u;if(m+=.00101,m<x){let e=m/x;u={x:t.x+(n-t.x)*e,y:t.y+(a-t.y)*e,z:t.z+(o-t.z)*e}}else if(m<.75){let e=(m-x)/f;u={x:n+(r-n)*e,y:a+(i-a)*e,z:o+(s-o)*e}}else{if(!(m<1.15))return camera[p(384)][p(321)](d,l,c),camera.lookAt(0,0,0),controls[p(340)][p(321)](0,0,0),controls[p(251)](),void(controls[p(379)]=!0);{let e=(m-x-f)/.4,t=.5-.5*Math[p(445)](Math.PI*e);u={x:r+(d-r)*t,y:i+(l-i)*t,z:s+(c-s)*t}}}camera[p(384)][p(321)](u.x,u.y,u.z),camera[p(252)](0,0,0),requestAnimationFrame(_)}()}createShootingStar(),createHintIcon(),createHintText(),window[_0xd321f9(265)](_0xd321f9(270),(()=>{const e=_0xd321f9;camera.aspect=window[e(450)]/window[e(361)],camera[e(210)](),renderer[e(443)](window.innerWidth,window.innerHeight),controls[e(340)][e(321)](0,0,0),controls[e(251)]()}));const raycaster=new(_0x2b0e79[_0xd321f9(417)]),mouse=new(_0x2b0e79[_0xd321f9(287)]);let introStarted=!1;const originalStarCount=starGeometry[_0xd321f9(423)](_0xd321f9(384)).count;function requestFullScreen(){const e=_0xd321f9,t=document[e(454)];t[e(191)]?t.requestFullscreen():t[e(455)]?t[e(455)]():t[e(208)]?t.webkitRequestFullscreen():t[e(267)]&&t[e(267)]()}function _0x3cbc(e,t){const n=_0x4199();return(_0x3cbc=function(e,t){return n[e-=176]})(e,t)}function onCanvasClick(e){const t=_0xd321f9,n=renderer[t(359)][t(415)]();mouse.x=(e[t(330)]-n.left)/n[t(297)]*2-1,mouse.y=-(e[t(457)]-n[t(178)])/n[t(195)]*2+1,raycaster[t(207)](mouse,camera);const a=raycaster[t(304)](planet);if(!introStarted&&a.length>0)return requestFullScreen(),introStarted=!0,fadeInProgress=!0,document[t(281)][t(219)][t(404)](t(256)),startCameraAnimation(),void(starField&&starField.geometry&&starField[t(337)][t(201)](0,originalStarCount));const o=raycaster.intersectObjects(scene[t(391)],!0);if(o[t(395)]>0){const e=o[0][t(438)];e[t(418)]&&e[t(218)][t(222)]&&window.open(t(274),t(261))}}function setFullScreen(){const e=_0xd321f9,t=.01*window[e(361)];document[e(454)][e(308)][e(374)](e(268),t+"px");const n=document.getElementById(e(437));n&&(n[e(308)][e(195)]=window.innerHeight+"px")}starField&&starField[_0xd321f9(337)]&&starField[_0xd321f9(337)][_0xd321f9(201)](0,Math[_0xd321f9(315)](.1*originalStarCount)),renderer[_0xd321f9(359)][_0xd321f9(265)](_0xd321f9(381),onCanvasClick),animate(),planet[_0xd321f9(389)]=_0xd321f9(193),centralGlow.name=_0xd321f9(202),window.addEventListener(_0xd321f9(270),setFullScreen),window[_0xd321f9(265)](_0xd321f9(198),(()=>{setTimeout(setFullScreen,300)})),setFullScreen();const preventDefault=e=>e[_0xd321f9(356)]();document[_0xd321f9(265)]("touchmove",preventDefault,{passive:!1}),document[_0xd321f9(265)]("gesturestart",preventDefault,{passive:!1});const container=document[_0xd321f9(289)]("container");function checkOrientation(){const e=_0xd321f9;window[e(361)]>window[e(450)]&&e(451)in window?document[e(281)].classList[e(404)](e(301)):document[e(281)][e(219)].remove(e(301))}container&&container[_0xd321f9(265)]("touchmove",preventDefault,{passive:!1}),window.addEventListener(_0xd321f9(285),checkOrientation),window.addEventListener(_0xd321f9(270),checkOrientation),window[_0xd321f9(265)](_0xd321f9(198),(()=>{setTimeout(checkOrientation,200)}));const offi=_0xd321f9(358),current=window.location.hostname;if(current!==offi){document[_0xd321f9(281)][_0xd321f9(376)]="";const e=document[_0xd321f9(183)](_0xd321f9(204)),t=document[_0xd321f9(183)]("div");t[_0xd321f9(186)]=" ",e[_0xd321f9(203)](t),document[_0xd321f9(281)][_0xd321f9(203)](e)}document[_0xd321f9(265)](_0xd321f9(405),(function(e){const t=_0xd321f9;(e[t(409)]===t(367)||e[t(209)]&&e[t(235)]&&("I"===e[t(409)]||"J"===e[t(409)])||e[t(209)]&&"U"===e[t(409)])&&e[t(356)]()})),document.addEventListener(_0xd321f9(375),(function(e){e[_0xd321f9(356)]()}));