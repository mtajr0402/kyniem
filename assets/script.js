const _0x4454ab=_0x4453;!function(e,t){const a=_0x4453,n=_0x166e();for(;;)try{if(339214===parseInt(a(280))/1*(-parseInt(a(435))/2)+-parseInt(a(223))/3+parseInt(a(323))/4*(-parseInt(a(264))/5)+-parseInt(a(292))/6+parseInt(a(377))/7+-parseInt(a(262))/8*(-parseInt(a(397))/9)+parseInt(a(445))/10)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();import*as _0x3695fe from"three";import{OrbitControls}from"three/addons/controls/OrbitControls.js";import{FontLoader}from"three/examples/jsm/loaders/FontLoader.js";import{TextGeometry}from"three/examples/jsm/geometries/TextGeometry.js";const scene=new(_0x3695fe[_0x4454ab(471)]);scene[_0x4454ab(474)]=new(_0x3695fe[_0x4454ab(225)])(0,.0015);const camera=new _0x3695fe.PerspectiveCamera(75,window[_0x4454ab(248)]/window[_0x4454ab(284)],.1,1e5);camera.position[_0x4454ab(418)](0,20,30);const renderer=new(_0x3695fe[_0x4454ab(495)])({antialias:!0});renderer[_0x4454ab(367)](window[_0x4454ab(248)],window[_0x4454ab(284)]),renderer[_0x4454ab(268)](Math[_0x4454ab(475)](window[_0x4454ab(341)],2)),renderer.outputColorSpace=_0x3695fe.SRGBColorSpace,document[_0x4454ab(393)](_0x4454ab(366)).appendChild(renderer[_0x4454ab(388)]);const controls=new OrbitControls(camera,renderer[_0x4454ab(388)]);function createGlowMaterial(e,t=128,a=.55){const n=_0x4454ab,o=document[n(339)](n(479));o.width=o.height=t;const r=o[n(308)]("2d"),i=r.createRadialGradient(t/2,t/2,0,t/2,t/2,t/2);i[n(421)](0,e),i[n(421)](1,"rgba(0,0,0,0)"),r[n(291)]=i,r[n(226)](0,0,t,t);const s=new(_0x3695fe[n(494)])(o),l=new(_0x3695fe[n(242)])({map:s,transparent:!0,opacity:a,depthWrite:!1,blending:_0x3695fe.AdditiveBlending});return new _0x3695fe.Sprite(l)}controls[_0x4454ab(304)]=!0,controls[_0x4454ab(463)]=!0,controls[_0x4454ab(234)]=.1,controls.enabled=!1,controls[_0x4454ab(379)].set(0,0,0),controls[_0x4454ab(319)]=!1,controls.minDistance=15,controls.maxDistance=300,controls[_0x4454ab(394)]=.3,controls[_0x4454ab(407)]=.3,controls[_0x4454ab(285)]();const centralGlow=createGlowMaterial(_0x4454ab(277),156,.25);centralGlow[_0x4454ab(392)][_0x4454ab(418)](8,8,1),scene[_0x4454ab(402)](centralGlow);for(let e=0;e<15;e++){const e=360*Math[_0x4454ab(406)](),t=createGlowMaterial(_0x4454ab(404)+e+_0x4454ab(253),256);t[_0x4454ab(392)][_0x4454ab(418)](100,100,1),t.position[_0x4454ab(418)](175*(Math[_0x4454ab(406)]()-.5),175*(Math[_0x4454ab(406)]()-.5),175*(Math.random()-.5)),scene[_0x4454ab(402)](t)}const galaxyParameters={count:1e5,arms:6,radius:100,spin:.5,randomness:.2,randomnessPower:20,insideColor:new(_0x3695fe[_0x4454ab(309)])(14040790),outsideColor:new(_0x3695fe[_0x4454ab(309)])(4765880)},heartImages=[...window[_0x4454ab(247)]&&window[_0x4454ab(247)][_0x4454ab(378)][_0x4454ab(457)]?window[_0x4454ab(247)][_0x4454ab(378)].heartImages:[],_0x4454ab(480),"./img/2.jpg",_0x4454ab(346),_0x4454ab(254),_0x4454ab(389),_0x4454ab(270),_0x4454ab(279),_0x4454ab(496),_0x4454ab(266)],textureLoader=new(_0x3695fe[_0x4454ab(344)]),numGroups=heartImages[_0x4454ab(348)],maxDensity=15e3,minDensity=4e3,maxGroupsForScale=6;let pointsPerGroup;if(numGroups<=1)pointsPerGroup=15e3;else if(numGroups>=6)pointsPerGroup=4e3;else{const e=(numGroups-1)/5;pointsPerGroup=Math[_0x4454ab(307)](15e3*(1-e)+4e3*e)}pointsPerGroup*numGroups>galaxyParameters.count&&(pointsPerGroup=Math[_0x4454ab(307)](galaxyParameters[_0x4454ab(233)]/numGroups)),console[_0x4454ab(357)](_0x4454ab(239)+numGroups+", Điểm mỗi ảnh: "+pointsPerGroup);const positions=new Float32Array(3*galaxyParameters.count),colors=new Float32Array(3*galaxyParameters[_0x4454ab(233)]);let pointIdx=0;for(let e=0;e<galaxyParameters[_0x4454ab(233)];e++){const t=Math[_0x4454ab(372)](Math[_0x4454ab(406)](),galaxyParameters.randomnessPower)*galaxyParameters[_0x4454ab(317)],a=e%galaxyParameters[_0x4454ab(450)]/galaxyParameters.arms*Math.PI*2,n=t*galaxyParameters[_0x4454ab(485)],o=(Math[_0x4454ab(406)]()-.5)*galaxyParameters[_0x4454ab(391)]*t,r=(Math.random()-.5)*galaxyParameters[_0x4454ab(391)]*t*.5,i=(Math[_0x4454ab(406)]()-.5)*galaxyParameters.randomness*t,s=a+n;if(t<30&&Math[_0x4454ab(406)]()<.7)continue;const l=3*pointIdx;positions[l]=Math[_0x4454ab(228)](s)*t+o,positions[l+1]=r,positions[l+2]=Math[_0x4454ab(255)](s)*t+i;const c=new(_0x3695fe[_0x4454ab(309)])(16738047);c[_0x4454ab(238)](new _0x3695fe.Color(6750207),t/galaxyParameters[_0x4454ab(317)]),c.multiplyScalar(.7+.3*Math[_0x4454ab(406)]()),colors[l]=c.r,colors[l+1]=c.g,colors[l+2]=c.b,pointIdx++}const galaxyGeometry=new(_0x3695fe[_0x4454ab(456)]);galaxyGeometry.setAttribute("position",new(_0x3695fe[_0x4454ab(414)])(positions.slice(0,3*pointIdx),3)),galaxyGeometry[_0x4454ab(333)]("color",new(_0x3695fe[_0x4454ab(414)])(colors[_0x4454ab(256)](0,3*pointIdx),3));const galaxyMaterial=new(_0x3695fe[_0x4454ab(490)])({uniforms:{uTime:{value:0},uSize:{value:50*renderer[_0x4454ab(478)]()},uRippleTime:{value:-1},uRippleSpeed:{value:40},uRippleWidth:{value:20}},vertexShader:_0x4454ab(381),fragmentShader:_0x4454ab(257),blending:_0x3695fe[_0x4454ab(462)],depthWrite:!1,transparent:!0,vertexColors:!0}),galaxy=new(_0x3695fe[_0x4454ab(337)])(galaxyGeometry,galaxyMaterial);function createNeonTexture(e,t){const a=_0x4454ab,n=window[a(341)]||1,o=document[a(339)](a(479));o[a(364)]=o[a(274)]=t*n,o.style[a(364)]=o[a(427)][a(274)]=t+"px";const r=o[a(308)]("2d");r.scale(n,n);const i=e[a(364)]/e[a(274)];let s,l,c,x;i>1?(s=t,l=t/i,c=0,x=(t-l)/2):(l=t,s=t*i,c=(t-s)/2,x=0),r.clearRect(0,0,t,t);const d=.1*t;r[a(245)](),r[a(399)](),r[a(458)](c+d,x),r.lineTo(c+s-d,x),r.arcTo(c+s,x,c+s,x+d,d),r[a(473)](c+s,x+l-d),r[a(492)](c+s,x+l,c+s-d,x+l,d),r[a(473)](c+d,x+l),r[a(492)](c,x+l,c,x+l-d,d),r.lineTo(c,x+d),r.arcTo(c,x,c+d,x,d),r[a(229)](),r[a(453)](),r[a(422)](e,c,x,s,l),r.restore();const m=new(_0x3695fe[a(494)])(o);return m[a(488)]=_0x3695fe.LinearFilter,m[a(437)]=_0x3695fe[a(244)],m[a(487)]=renderer[a(311)][a(276)](),m[a(281)]=_0x3695fe.SRGBColorSpace,m}scene[_0x4454ab(402)](galaxy);for(let e=0;e<numGroups;e++){const t=new Float32Array(3*pointsPerGroup),a=new Float32Array(3*pointsPerGroup),n=new Float32Array(3*pointsPerGroup);let o=0;for(let r=0;r<pointsPerGroup;r++){const i=3*o,s=e*pointsPerGroup+r,l=Math[_0x4454ab(372)](Math[_0x4454ab(406)](),galaxyParameters[_0x4454ab(413)])*galaxyParameters.radius;if(l<30)continue;const c=s%galaxyParameters[_0x4454ab(450)]/galaxyParameters.arms*Math.PI*2,x=l*galaxyParameters[_0x4454ab(485)],d=(Math.random()-.5)*galaxyParameters[_0x4454ab(391)]*l,m=(Math[_0x4454ab(406)]()-.5)*galaxyParameters[_0x4454ab(391)]*l*.5,_=(Math[_0x4454ab(406)]()-.5)*galaxyParameters.randomness*l,p=c+x;t[i]=Math[_0x4454ab(228)](p)*l+d,t[i+1]=m,t[i+2]=Math[_0x4454ab(255)](p)*l+_;const f=new(_0x3695fe[_0x4454ab(309)])(16777215);a[i]=f.r,a[i+1]=f.g,a[i+2]=f.b;const h=galaxyParameters[_0x4454ab(315)].clone();h[_0x4454ab(238)](galaxyParameters.outsideColor,l/galaxyParameters[_0x4454ab(317)]),h[_0x4454ab(342)](.7+.3*Math[_0x4454ab(406)]()),n[i]=h.r,n[i+1]=h.g,n[i+2]=h.b,o++}if(0===o)continue;const r=new _0x3695fe.BufferGeometry;r.setAttribute(_0x4454ab(470),new(_0x3695fe[_0x4454ab(414)])(t[_0x4454ab(256)](0,3*o),3)),r[_0x4454ab(333)]("color",new(_0x3695fe[_0x4454ab(414)])(a[_0x4454ab(256)](0,3*o),3));const i=new _0x3695fe.BufferGeometry;i[_0x4454ab(333)](_0x4454ab(470),new(_0x3695fe[_0x4454ab(414)])(t[_0x4454ab(256)](0,3*o),3)),i[_0x4454ab(333)]("color",new(_0x3695fe[_0x4454ab(414)])(n.slice(0,3*o),3));const s=i[_0x4454ab(361)](_0x4454ab(470));let l=0,c=0,x=0;for(let e=0;e<s[_0x4454ab(233)];e++)l+=s[_0x4454ab(360)](e),c+=s[_0x4454ab(419)](e),x+=s[_0x4454ab(438)](e);l/=s[_0x4454ab(233)],c/=s[_0x4454ab(233)],x/=s[_0x4454ab(233)],r[_0x4454ab(251)](-l,-c,-x),i[_0x4454ab(251)](-l,-c,-x);const d=new window.Image;d.crossOrigin=_0x4454ab(324),d[_0x4454ab(429)]=heartImages[e],d[_0x4454ab(369)]=()=>{const e=_0x4454ab,t=createNeonTexture(d,256),a=new(_0x3695fe[e(313)])({size:1.8,map:t,transparent:!1,alphaTest:.2,depthWrite:!0,depthTest:!0,blending:_0x3695fe[e(469)],vertexColors:!0}),n=new(_0x3695fe[e(313)])({size:1.8,map:t,transparent:!0,alphaTest:.2,depthWrite:!1,blending:_0x3695fe.AdditiveBlending,vertexColors:!0}),o=new(_0x3695fe[e(337)])(i,n);o.position[e(418)](l,c,x),o[e(482)][e(230)]=a,o[e(482)][e(286)]=r,o[e(482)][e(336)]=n,o[e(482)][e(481)]=i,scene.add(o)}}const ambientLight=new(_0x3695fe[_0x4454ab(330)])(16777215,.2);scene.add(ambientLight);const starCount=2e4,starGeometry=new _0x3695fe.BufferGeometry,starPositions=new Float32Array(6e4);for(let e=0;e<2e4;e++)starPositions[3*e]=900*(Math[_0x4454ab(406)]()-.5),starPositions[3*e+1]=900*(Math[_0x4454ab(406)]()-.5),starPositions[3*e+2]=900*(Math.random()-.5);starGeometry.setAttribute(_0x4454ab(470),new _0x3695fe.BufferAttribute(starPositions,3));const starMaterial=new(_0x3695fe[_0x4454ab(313)])({color:16777215,size:.7,transparent:!0,opacity:.7,depthWrite:!1}),starField=new _0x3695fe.Points(starGeometry,starMaterial);starField[_0x4454ab(433)]=_0x4454ab(261),starField[_0x4454ab(440)]=999,scene.add(starField);let shootingStars=[];function createShootingStar(){const e=_0x4454ab,t=new(_0x3695fe[e(301)])(2,32,32),a=new(_0x3695fe[e(296)])({color:16777215,transparent:!0,opacity:0,blending:_0x3695fe.AdditiveBlending}),n=new _0x3695fe.Mesh(t,a),o=new(_0x3695fe[e(301)])(3,32,32),r=new _0x3695fe.ShaderMaterial({uniforms:{time:{value:0}},vertexShader:"\n            varying vec3 vNormal;\n            void main() {\n                vNormal = normalize(normalMatrix * normal);\n                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n            }\n        ",fragmentShader:"\n            varying vec3 vNormal;\n            uniform float time;\n            void main() {\n                float intensity = pow(0.7 - dot(vNormal, vec3(0.0, 0.0, 1.0)), 2.0);\n                gl_FragColor = vec4(1.0, 1.0, 1.0, intensity * (0.8 + sin(time * 5.0) * 0.2));\n            }\n        ",transparent:!0,blending:_0x3695fe.AdditiveBlending,side:_0x3695fe[e(373)]}),i=new _0x3695fe.Mesh(o,r);n[e(402)](i);const s=new(_0x3695fe[e(301)])(1.05*planetRadius,48,48),l=new _0x3695fe.ShaderMaterial({uniforms:{glowColor:{value:new(_0x3695fe[e(309)])(14726143)}},vertexShader:e(423),fragmentShader:e(362),side:_0x3695fe[e(373)],blending:_0x3695fe[e(462)],transparent:!0}),c=new _0x3695fe.Mesh(s,l);planet.add(c);const x=createRandomCurve(),d=[];for(let t=0;t<100;t++){const a=t/99;d.push(x[e(486)](a))}const m=(new(_0x3695fe[e(456)]))[e(299)](d),_=new(_0x3695fe[e(403)])({color:10087167,transparent:!0,opacity:.7,linewidth:2}),p=new(_0x3695fe[e(498)])(m,_),f=new(_0x3695fe[e(493)]);f[e(402)](n),f[e(402)](p),f[e(482)]={curve:x,progress:0,speed:.001+.001*Math[e(406)](),life:0,maxLife:300,head:n,trail:p,trailLength:100,trailPoints:d},scene.add(f),shootingStars.push(f)}function createRandomCurve(){const e=_0x4454ab,t=new _0x3695fe.Vector3(100*Math[e(406)]()-200,200*Math[e(406)]()-100,200*Math[e(406)]()-100),a=new(_0x3695fe[e(263)])(600+200*Math[e(406)](),t.y+(200*Math[e(406)]()-100),t.z+(200*Math[e(406)]()-100)),n=new(_0x3695fe[e(263)])(t.x+200+100*Math[e(406)](),t.y+(100*Math[e(406)]()-50),t.z+(100*Math.random()-50)),o=new(_0x3695fe[e(263)])(a.x-200+100*Math[e(406)](),a.y+(100*Math[e(406)]()-50),a.z+(100*Math[e(406)]()-50));return[][e(371)](t,n,o,a),new _0x3695fe.CubicBezierCurve3(t,n,o,a)}function createPlanetTexture(e=512){const t=_0x4454ab,a=document[t(339)](t(479));a[t(364)]=a[t(274)]=e;const n=a[t(308)]("2d"),o=n.createRadialGradient(e/2,e/2,e/8,e/2,e/2,e/2);o[t(421)](0,t(227)),o.addColorStop(.12,t(265)),o.addColorStop(.22,"#f06292"),o[t(421)](.35,t(387)),o[t(421)](.5,t(405)),o[t(421)](.62,t(267)),o[t(421)](.75,"#b2ff59"),o.addColorStop(1,"#3fd8c7"),n[t(291)]=o,n[t(226)](0,0,e,e);const r=[t(227),t(227),t(265),t(265),t(354),"#f06292",t(387),t(405),"#a259f7",t(355)];for(let a=0;a<40;a++){const a=Math.random()*e,o=Math.random()*e,i=30+120*Math[t(406)](),s=r[Math[t(307)](Math.random()*r.length)],l=n.createRadialGradient(a,o,0,a,o,i);l[t(421)](0,s+"cc"),l[t(421)](1,s+"00"),n[t(291)]=l,n[t(226)](0,0,e,e)}for(let a=0;a<8;a++)n[t(399)](),n[t(458)](Math[t(406)]()*e,Math[t(406)]()*e),n.bezierCurveTo(Math[t(406)]()*e,Math[t(406)]()*e,Math[t(406)]()*e,Math[t(406)]()*e,Math.random()*e,Math[t(406)]()*e),n[t(428)]=t(385)+(.12+.18*Math[t(406)]())+")",n[t(289)]=8+18*Math[t(406)](),n.stroke();return void 0!==n[t(241)]&&(n[t(241)]=t(466),n.drawImage(a,0,0),n[t(241)]=t(368)),new(_0x3695fe[t(494)])(a)}const stormShader={uniforms:{time:{value:0},baseTexture:{value:null}},vertexShader:"\n        varying vec2 vUv;\n        void main() {\n            vUv = uv;\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n    ",fragmentShader:_0x4454ab(395)},planetRadius=10,planetGeometry=new(_0x3695fe[_0x4454ab(301)])(planetRadius,48,48),planetTexture=createPlanetTexture(),planetMaterial=new(_0x3695fe[_0x4454ab(490)])({uniforms:{time:{value:0},baseTexture:{value:planetTexture}},vertexShader:stormShader[_0x4454ab(306)],fragmentShader:stormShader[_0x4454ab(240)]}),planet=new(_0x3695fe[_0x4454ab(321)])(planetGeometry,planetMaterial);planet[_0x4454ab(470)][_0x4454ab(418)](0,0,0),scene[_0x4454ab(402)](planet);const ringTexts=["Galaxy",_0x4454ab(318),...window[_0x4454ab(247)]&&window[_0x4454ab(247)][_0x4454ab(378)][_0x4454ab(236)]?window[_0x4454ab(247)][_0x4454ab(378)].ringTexts:[]];function createTextRings(){const e=_0x4454ab,t=ringTexts[e(348)],a=1.1*planetRadius;window[e(382)]=[];for(let o=0;o<t;o++){const r=ringTexts[o%ringTexts.length]+e(356),i=a+5*o;function n(t){const a=e,n=t.charCodeAt(0);return n>=19968&&n<=40959||n>=12352&&n<=12447||n>=12448&&n<=12543||n>=44032&&n<=55215?a(327):n>=0&&n<=127?"latin":a(417)}let s={cjk:0,latin:0,other:0};for(let C of r)s[n(C)]++;const l=r.length,c=s.cjk/l;let x={fontScale:.75,spacingScale:1.1};0===o?(x[e(260)]=.55,x[e(449)]=.9):1===o&&(x[e(260)]=.65,x[e(449)]=1),c>0&&(x[e(260)]*=.9,x[e(449)]*=1.1);const d=200,m=Math[e(316)](120,.9*d),_=document[e(339)]("canvas").getContext("2d");_[e(500)]=e(454)+m+e(343);let p=ringTexts[o%ringTexts.length]+e(356),f=_[e(237)](p)[e(364)],h=2*Math.PI*i*180,u=Math[e(352)](h/f),b="";for(let G=0;G<u;G++)b+=p;let g=f*u;(g<1||!b)&&(b=p,g=f);const w=document[e(339)](e(479));w[e(364)]=Math[e(352)](Math[e(316)](1,g)),w[e(274)]=d;const y=w.getContext("2d");y[e(477)](0,0,w[e(364)],d),y[e(500)]=e(454)+m+e(343),y[e(291)]=e(416),y.textAlign=e(322),y[e(365)]=e(295),y[e(412)]=e(340),y[e(293)]=24,y.lineWidth=6,y[e(428)]=e(424),y[e(351)](b,0,.8*d),y[e(412)]=e(446),y.shadowBlur=16,y[e(287)](b,0,.8*d);const v=new(_0x3695fe[e(494)])(w);v.wrapS=_0x3695fe.RepeatWrapping,v[e(447)].x=g/h,v[e(460)]=!0;const M=new(_0x3695fe[e(328)])(i,i,1,128,1,!0),P=new(_0x3695fe[e(296)])({map:v,transparent:!0,side:_0x3695fe[e(282)],alphaTest:.01}),S=new _0x3695fe.Mesh(M,P);S.position[e(418)](0,0,0),S[e(269)].y=Math.PI/2;const T=new(_0x3695fe[e(493)]);T[e(402)](S),T.userData={ringRadius:i,angleOffset:.15*Math.PI*.5,speed:.008,tiltSpeed:0,rollSpeed:0,pitchSpeed:0,tiltAmplitude:Math.PI/3,rollAmplitude:Math.PI/6,pitchAmplitude:Math.PI/8,tiltPhase:2*Math.PI,rollPhase:2*Math.PI,pitchPhase:2*Math.PI,isTextRing:!0};const I=o/t*(Math.PI/1);T[e(269)].x=I,scene[e(402)](T),window[e(382)][e(371)](T)}}function updateTextRingsRotation(){const e=_0x4454ab;window[e(382)]&&camera&&window[e(382)][e(400)](((t,a)=>{const n=e;t[n(358)][n(400)]((e=>{const a=n;if(void 0!==e[a(482)][a(476)]){const n=e[a(482)][a(476)]+t.userData[a(442)],o=Math[a(228)](n)*e[a(482)][a(335)],r=Math.sin(n)*e[a(482)][a(335)];e[a(470)][a(418)](o,0,r);const i=new _0x3695fe.Vector3;e[a(415)](i);const s=(new(_0x3695fe[a(263)]))[a(283)](camera[a(470)],i)[a(376)](),l=Math[a(441)](s.x,s.z);e[a(269)].y=l}}))}))}function animatePlanetSystem(){const e=_0x4454ab;if(window[e(382)]){const t=.001*Date[e(334)]();window[e(382)].forEach(((a,n)=>{const o=e,r=a[o(482)];r.angleOffset+=r[o(411)];const i=Math.sin(t*r[o(305)]+r[o(409)])*r.tiltAmplitude,s=Math.cos(t*r[o(249)]+r[o(472)])*r[o(294)],l=Math[o(255)](t*r[o(290)]+r.pitchPhase)*r[o(455)];a[o(269)].x=n/window[o(382)][o(348)]*(Math.PI/1)+i,a[o(269)].z=s,a[o(269)].y=r[o(442)]+l;const c=.3*Math[o(255)](t*(.7*r[o(305)])+r.tiltPhase);a[o(470)].y=c;const x=(Math[o(255)](1.5*t+n)+1)/2,d=a[o(358)][0];d&&d.material&&(d.material[o(451)]=.7+.3*x)})),updateTextRingsRotation()}}createTextRings();let hintIcon,hintText,fadeOpacity=.1,fadeInProgress=!1;function createHintIcon(){const e=_0x4454ab;hintIcon=new _0x3695fe.Group,hintIcon[e(433)]=e(426),scene[e(402)](hintIcon);const t=new(_0x3695fe[e(493)]),a=new(_0x3695fe[e(302)]),n=.75;a[e(458)](0,0),a[e(473)](.4*-.75,.7*-1.5),a[e(473)](-.1875,.7*-1.5),a[e(473)](-.375,-1.5),a[e(473)](.375,-1.5),a[e(473)](.1875,.7*-1.5),a[e(473)](.4*n,.7*-1.5),a[e(229)]();const o=new(_0x3695fe[e(320)])(a),r=new(_0x3695fe[e(296)])({color:16777215,side:_0x3695fe[e(282)]}),i=new(_0x3695fe[e(321)])(o,r),s=new _0x3695fe.ShapeGeometry(a),l=new(_0x3695fe[e(296)])({color:16777215,side:_0x3695fe[e(282)]}),c=new(_0x3695fe[e(321)])(s,l);c[e(392)].set(.8,.8,1),c[e(470)].z=.01,t[e(402)](i,c),t[e(470)].y=.75,t[e(269)].x=Math.PI/2;const x=new(_0x3695fe[e(499)])(1.8,2,32),d=new(_0x3695fe[e(296)])({color:16777215,side:_0x3695fe.DoubleSide,transparent:!0,opacity:.6}),m=new(_0x3695fe[e(321)])(x,d);m[e(269)].x=Math.PI/2,hintIcon[e(482)].ringMesh=m,hintIcon[e(402)](t),hintIcon[e(402)](m),hintIcon[e(470)][e(418)](1.5,1.5,15),hintIcon[e(392)][e(418)](.8,.8,.8),hintIcon.lookAt(planet.position),hintIcon[e(482)][e(288)]=hintIcon[e(470)].clone()}function animateHintIcon(e){const t=_0x4454ab;if(hintIcon)if(introStarted)hintIcon&&(hintIcon[t(235)]=!1),hintText&&(hintText[t(235)]=!1);else{hintIcon[t(235)]=!0;const a=2.5,n=1.5,o=Math[t(255)](e*a)*n,r=new _0x3695fe.Vector3;hintIcon.getWorldDirection(r),hintIcon[t(470)][t(303)](hintIcon[t(482)][t(288)]).addScaledVector(r,-o);const i=hintIcon.userData.ringMesh,s=1+.1*Math[t(255)](e*a);i[t(392)][t(418)](s,s,1),i[t(271)][t(451)]=.5+.2*Math[t(255)](e*a),hintText&&(hintText.visible=!0,hintText.material[t(451)]=.7+.3*Math[t(255)](3*e),hintText.position.y=15+.5*Math[t(255)](2*e),hintText[t(314)](camera[t(470)]))}}function animate(){const e=_0x4454ab;requestAnimationFrame(animate);const t=.001*performance[e(334)]();animateHintIcon(t),controls[e(285)](),planet.material[e(452)][e(325)][e(380)]=.5*t,fadeInProgress&&fadeOpacity<1&&(fadeOpacity+=.025,fadeOpacity>1&&(fadeOpacity=1)),introStarted?scene[e(420)]((t=>{const a=e;t[a(482)].isTextRing||t[a(331)]&&t[a(331)][a(482)]&&t[a(331)][a(482)][a(434)]||t===planet||t===centralGlow||t[a(408)]===a(471)?t[a(271)]&&void 0!==t.material.opacity&&(t[a(271)][a(451)]=1,t.material[a(273)]=!1):t[a(271)]&&void 0!==t[a(271)].opacity&&(t[a(271)][a(273)]=!0,t[a(271)][a(451)]=fadeOpacity),t[a(271)]&&t[a(271)].color&&t[a(271)][a(278)][a(418)](16777215)})):(fadeOpacity=.1,scene.traverse((t=>{const a=e;t.name!==a(261)?t[a(482)][a(434)]||t[a(331)]&&t[a(331)][a(482)]&&t[a(331)][a(482)][a(434)]?(t.material&&void 0!==t.material[a(451)]&&(t[a(271)][a(273)]=!1,t.material.opacity=1),t[a(271)]&&t.material[a(278)]&&t.material[a(278)][a(418)](16777215)):t!==planet&&t!==centralGlow&&t!==hintIcon&&"Scene"!==t[a(408)]&&!t[a(331)][a(430)]&&t[a(271)]&&void 0!==t[a(271)][a(451)]&&(t[a(271)][a(273)]=!0,t.material[a(451)]=.1):t[a(300)]&&void 0!==t.material[a(451)]&&(t[a(271)][a(273)]=!1,t[a(271)][a(451)]=1)})),planet[e(235)]=!0,centralGlow[e(235)]=!0);for(let a=shootingStars[e(348)]-1;a>=0;a--){const n=shootingStars[a];n[e(482)].life++;let o=1;if(n.userData[e(459)]<30?o=n.userData[e(459)]/30:n[e(482)].life>n[e(482)][e(224)]-30&&(o=(n[e(482)].maxLife-n[e(482)][e(459)])/30),n[e(482)][e(326)]+=n[e(482)][e(411)],n[e(482)][e(326)]>1){scene[e(349)](n),shootingStars[e(353)](a,1);continue}const r=n[e(482)][e(386)].getPoint(n[e(482)][e(326)]);n[e(470)][e(303)](r),n.userData[e(259)][e(271)][e(451)]=o,n.userData[e(259)].children[0][e(271)][e(452)][e(325)][e(380)]=t;const i=n[e(482)][e(484)],s=n.userData[e(444)];s[0][e(303)](r);for(let t=1;t<n[e(482)][e(384)];t++){const a=Math[e(316)](0,n[e(482)].progress-.01*t);s[t][e(303)](n[e(482)][e(386)].getPoint(a))}i[e(329)][e(299)](s),i[e(271)][e(451)]=.7*o}shootingStars[e(348)]<3&&Math[e(406)]()<.02&&createShootingStar(),scene.traverse((t=>{const a=e;if(t[a(383)]&&t[a(482)][a(230)]&&t[a(482)].materialFar){const e=t[a(329)][a(361)](a(470));let n=!1;for(let o=0;o<e.count;o++){const r=e.getX(o)+t.position.x,i=e[a(419)](o)+t.position.y,s=e[a(438)](o)+t[a(470)].z;if(camera[a(470)][a(467)](new(_0x3695fe[a(263)])(r,i,s))<10){n=!0;break}}n?t[a(271)]!==t[a(482)][a(230)]&&(t.material=t[a(482)].materialNear,t[a(329)]=t[a(482)][a(286)]):t[a(271)]!==t[a(482)][a(336)]&&(t.material=t[a(482)][a(336)],t.geometry=t[a(482)][a(481)])}})),planet.lookAt(camera[e(470)]),animatePlanetSystem(),starField&&starField[e(271)]&&void 0!==starField.material.opacity&&(starField[e(271)][e(451)]=1,starField.material[e(273)]=!1),renderer.render(scene,camera)}function createHintText(){const e=_0x4454ab,t=512,a=document[e(339)](e(479));a[e(364)]=a[e(274)]=t;const n=a.getContext("2d"),o=e(246);n[e(500)]=e(454)+50+e(343),n[e(465)]=e(252),n[e(365)]=e(483),n[e(412)]=e(446),n.shadowBlur=5,n[e(289)]=2,n[e(428)]=e(443),n.strokeText(o,256,256),n.shadowColor="#e0b3ff",n[e(293)]=5,n[e(289)]=2,n[e(428)]="rgba(220, 180, 255, 0.5)",n[e(351)](o,256,256),n[e(412)]=e(273),n.shadowBlur=0,n[e(291)]="white",n[e(287)](o,256,256);const r=new(_0x3695fe[e(494)])(a);r[e(460)]=!0;const i=new(_0x3695fe[e(296)])({map:r,transparent:!0,side:_0x3695fe[e(282)]}),s=new(_0x3695fe[e(231)])(16,8);hintText=new _0x3695fe.Mesh(s,i),hintText[e(470)][e(418)](0,15,0),scene[e(402)](hintText)}function _0x4453(e,t){const a=_0x166e();return(_0x4453=function(e,t){return a[e-=223]})(e,t)}function startCameraAnimation(){const e=_0x4454ab,t={x:camera[e(470)].x,y:camera[e(470)].y,z:camera[e(470)].z},a=t.x,n=0,o=t.z,r=t.x,i=0,s=160,l=-40,c=100,x=100,d=.2,m=.55;let _=0;controls.enabled=!1,function p(){const f=e;let h;if(_+=.00101,_<d){let e=_/d;h={x:t.x+(a-t.x)*e,y:t.y+(n-t.y)*e,z:t.z+(o-t.z)*e}}else if(_<.75){let e=(_-d)/m;h={x:a+(r-a)*e,y:n+(i-n)*e,z:o+(s-o)*e}}else{if(!(_<1.15))return camera[f(470)].set(l,c,x),camera[f(314)](0,0,0),controls[f(379)][f(418)](0,0,0),controls[f(285)](),void(controls.enabled=!0);{let e=(_-d-m)/.4,t=.5-.5*Math.cos(Math.PI*e);h={x:r+(l-r)*t,y:i+(c-i)*t,z:s+(x-s)*t}}}camera.position[f(418)](h.x,h.y,h.z),camera[f(314)](0,0,0),requestAnimationFrame(p)}()}createShootingStar(),createHintIcon(),createHintText(),window[_0x4454ab(345)](_0x4454ab(491),(()=>{const e=_0x4454ab;camera.aspect=window[e(248)]/window.innerHeight,camera[e(431)](),renderer.setSize(window[e(248)],window[e(284)]),controls[e(379)][e(418)](0,0,0),controls[e(285)]()}));const raycaster=new(_0x3695fe[_0x4454ab(398)]),mouse=new(_0x3695fe[_0x4454ab(297)]);let introStarted=!1;const originalStarCount=starGeometry.getAttribute(_0x4454ab(470))[_0x4454ab(233)];function requestFullScreen(){const e=_0x4454ab,t=document[e(396)];t[e(250)]?t[e(250)]():t[e(363)]?t.mozRequestFullScreen():t.webkitRequestFullscreen?t[e(374)]():t[e(410)]&&t[e(410)]()}function onCanvasClick(e){const t=_0x4454ab,a=renderer[t(388)].getBoundingClientRect();mouse.x=(e.clientX-a[t(322)])/a[t(364)]*2-1,mouse.y=-(e[t(448)]-a[t(439)])/a[t(274)]*2+1,raycaster.setFromCamera(mouse,camera);const n=raycaster[t(350)](planet);if(!introStarted&&n[t(348)]>0)return requestFullScreen(),introStarted=!0,fadeInProgress=!0,document[t(258)].classList.add("intro-started"),startCameraAnimation(),void(starField&&starField.geometry&&starField.geometry.setDrawRange(0,originalStarCount));const o=raycaster[t(347)](scene.children,!0);if(o[t(348)]>0){const e=o[0][t(489)];e.isPoints&&e[t(271)][t(468)]&&(window[t(436)].href=t(272))}}function _0x166e(){const e=["isPoints","trailLength","rgba(180, 120, 200, ","curve","#ffffff","domElement","./img/5.jpg","shiftKey","randomness","scale","getElementById","zoomSpeed","\n        uniform float time;\n        uniform sampler2D baseTexture;\n        varying vec2 vUv;\n        void main() {\n            vec2 uv = vUv;\n            float angle = length(uv - vec2(0.5)) * 3.0;\n            float twist = sin(angle * 3.0 + time) * 0.1;\n            uv.x += twist * sin(time * 0.5);\n            uv.y += twist * cos(time * 0.5);\n            vec4 texColor = texture2D(baseTexture, uv);\n            float noise = sin(uv.x * 10.0 + time) * sin(uv.y * 10.0 + time) * 0.1;\n            texColor.rgb += noise * vec3(0.8, 0.4, 0.2);\n            gl_FragColor = texColor;\n        }\n    ","documentElement","26217reXUHz","Raycaster","beginPath","forEach","key","add","LineBasicMaterial","hsla(","#e1aaff","random","rotateSpeed","type","tiltPhase","msRequestFullscreen","speed","shadowColor","randomnessPower","BufferAttribute","getWorldPosition","white","other","set","getY","traverse","addColorStop","drawImage","\n        varying vec3 vNormal;\n        void main() {\n            vNormal = normalize(normalMatrix * normal);\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n    ","#fff","appendChild","hint-icon-group","style","strokeStyle","src","isGroup","updateProjectionMatrix","classList","name","isTextRing","2zsPyiB","location","magFilter","getZ","top","renderOrder","atan2","angleOffset","rgba(255, 200, 220, 0.8)","trailPoints","18446460FQdWyc","#ffb3de","repeat","clientY","spacingScale","arms","opacity","uniforms","clip","bold ","pitchAmplitude","BufferGeometry","heartImages","moveTo","life","needsUpdate","keydown","AdditiveBlending","autoRotate","main-planet","textAlign","blur(2px)","distanceTo","map","NormalBlending","position","Scene","rollPhase","lineTo","fog","min","initialAngle","clearRect","getPixelRatio","canvas","./img/1.jpg","geometryFar","userData","middle","trail","spin","getPoint","anisotropy","minFilter","object","ShaderMaterial","resize","arcTo","Group","CanvasTexture","WebGLRenderer","./img/8.jpg","F12","Line","RingGeometry","font","833106VuoXpp","maxLife","FogExp2","fillRect","#f8bbd0","cos","closePath","materialNear","PlaneGeometry","orientationchange","count","autoRotateSpeed","visible","ringTexts","measureText","lerp","Số lượng ảnh: ","fragmentShader","filter","SpriteMaterial","contextmenu","LinearFilter","save","Chạm Vào Tinh Cầu","dataLove2Loveloom","innerWidth","rollSpeed","requestFullscreen","translate","center",", 80%, 50%, 0.6)","./img/4.jpg","sin","slice","\n        varying vec3 vColor;\n        void main() {\n            // Làm cho các hạt có hình tròn thay vì hình vuông\n            float dist = length(gl_PointCoord - vec2(0.5));\n            if (dist > 0.5) discard;\n\n            gl_FragColor = vec4(vColor, 1.0);\n        }\n    ","body","head","fontScale","starfield","416QxdPTe","Vector3","19735qEmMvq","#f48fb1","./img/gift.png","#a259f7","setPixelRatio","rotation","./img/6.jpg","material","./gift.html","transparent","height","innerHTML","getMaxAnisotropy","rgba(255,255,255,0.8)","color","./img/7.jpg","510611rTvAbS","colorSpace","DoubleSide","subVectors","innerHeight","update","geometryNear","fillText","initialPosition","lineWidth","pitchSpeed","fillStyle","2650356xzUWyR","shadowBlur","rollAmplitude","alphabetic","MeshBasicMaterial","Vector2","div","setFromPoints","points","SphereGeometry","Shape","copy","enableDamping","tiltSpeed","vertexShader","floor","getContext","Color","portrait-mode","capabilities","innerText","PointsMaterial","lookAt","insideColor","max","radius","love","enablePan","ShapeGeometry","Mesh","left","596VKkSen","Anonymous","time","progress","cjk","CylinderGeometry","geometry","AmbientLight","parent","DOMContentLoaded","setAttribute","now","ringRadius","materialFar","Points","ontouchstart","createElement","#e0b3ff","devicePixelRatio","multiplyScalar","px Arial, sans-serif","TextureLoader","addEventListener","./img/3.jpg","intersectObjects","length","remove","intersectObject","strokeText","ceil","splice","#f06292","#b2ff59","   ","log","children","touchmove","getX","getAttribute","\n        varying vec3 vNormal;\n        uniform vec3 glowColor;\n        void main() {\n            float intensity = pow(0.7 - dot(vNormal, vec3(0.0, 0.0, 1.0)), 2.0);\n            gl_FragColor = vec4(glowColor, 1.0) * intensity;\n        }\n    ","mozRequestFullScreen","width","textBaseline","container","setSize","none","onload","ctrlKey","push","pow","BackSide","webkitRequestFullscreen","preventDefault","normalize","1128638kAhdAO","data","target","value","\n        uniform float uSize;\n        uniform float uTime;\n        uniform float uRippleTime;\n        uniform float uRippleSpeed;\n        uniform float uRippleWidth;\n\n        varying vec3 vColor;\n\n        void main() {\n            // Lấy màu gốc từ geometry (giống hệt vertexColors: true)\n            vColor = color;\n\n            vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n\n            // ---- LOGIC HIỆU ỨNG GỢN SÓNG ----\n            if (uRippleTime > 0.0) {\n                float rippleRadius = (uTime - uRippleTime) * uRippleSpeed;\n                float particleDist = length(modelPosition.xyz);\n\n                float strength = 1.0 - smoothstep(rippleRadius - uRippleWidth, rippleRadius + uRippleWidth, particleDist);\n                strength *= smoothstep(rippleRadius + uRippleWidth, rippleRadius - uRippleWidth, particleDist);\n\n                if (strength > 0.0) {\n                    vColor += vec3(strength * 2.0); // Làm màu sáng hơn khi sóng đi qua\n                }\n            }\n\n            vec4 viewPosition = viewMatrix * modelPosition;\n            gl_Position = projectionMatrix * viewPosition;\n            // Dòng này làm cho các hạt nhỏ hơn khi ở xa, mô phỏng hành vi của PointsMaterial\n            gl_PointSize = uSize / -viewPosition.z;\n        }\n    ","textRings"];return(_0x166e=function(){return e})()}function setFullScreen(){const e=_0x4454ab,t=.01*window[e(284)];document[e(396)][e(427)].setProperty("--vh",t+"px");const a=document[e(393)](e(366));a&&(a[e(427)][e(274)]=window[e(284)]+"px")}starField&&starField.geometry&&starField[_0x4454ab(329)].setDrawRange(0,Math[_0x4454ab(307)](.1*originalStarCount)),renderer[_0x4454ab(388)][_0x4454ab(345)]("click",onCanvasClick),animate(),planet[_0x4454ab(433)]=_0x4454ab(464),centralGlow[_0x4454ab(433)]="main-glow",window[_0x4454ab(345)](_0x4454ab(491),setFullScreen),window.addEventListener(_0x4454ab(232),(()=>{setTimeout(setFullScreen,300)})),setFullScreen();const preventDefault=e=>e[_0x4454ab(375)]();document[_0x4454ab(345)](_0x4454ab(359),preventDefault,{passive:!1}),document[_0x4454ab(345)]("gesturestart",preventDefault,{passive:!1});const container=document[_0x4454ab(393)]("container");function checkOrientation(){const e=_0x4454ab;window[e(284)]>window[e(248)]&&e(338)in window?document[e(258)].classList[e(402)](e(310)):document[e(258)][e(432)][e(349)]("portrait-mode")}container&&container[_0x4454ab(345)](_0x4454ab(359),preventDefault,{passive:!1}),window[_0x4454ab(345)](_0x4454ab(332),checkOrientation),window.addEventListener("resize",checkOrientation),window[_0x4454ab(345)](_0x4454ab(232),(()=>{setTimeout(checkOrientation,200)}));const offi="mtajr0402.github.io",current=window[_0x4454ab(436)].hostname;if(current!==offi){document[_0x4454ab(258)][_0x4454ab(275)]="";const e=document.createElement(_0x4454ab(298)),t=document[_0x4454ab(339)](_0x4454ab(298));t[_0x4454ab(312)]=" ",e.appendChild(t),document[_0x4454ab(258)][_0x4454ab(425)](e)}document[_0x4454ab(345)](_0x4454ab(461),(function(e){const t=_0x4454ab;(e[t(401)]===t(497)||e[t(370)]&&e[t(390)]&&("I"===e[t(401)]||"J"===e[t(401)])||e.ctrlKey&&"U"===e.key)&&e[t(375)]()})),document[_0x4454ab(345)](_0x4454ab(243),(function(e){e[_0x4454ab(375)]()}));
