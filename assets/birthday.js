const _0x513593=_0xe018;!function(t,n){const e=_0xe018,a=_0x4e46();for(;;)try{if(913423===parseInt(e(252))/1+parseInt(e(218))/2+parseInt(e(232))/3+parseInt(e(209))/4+-parseInt(e(222))/5+parseInt(e(260))/6*(-parseInt(e(189))/7)+parseInt(e(246))/8)break;a.push(a.shift())}catch(t){a.push(a.shift())}}();const canva=document[_0x513593(206)]("rainCanvas"),ctxs=canva[_0x513593(215)]("2d"),letters="Happy Birthday"[_0x513593(235)](""),fontSize=16;let columns=Math[_0x513593(239)](window[_0x513593(228)]/fontSize);const drops=Array(columns)[_0x513593(226)](1);function resizeRainCanvas(){const t=_0x513593;canva[t(248)]=window.innerWidth,canva[t(227)]=window.innerHeight,columns=Math[t(239)](canva.width/fontSize),drops[t(210)]=columns,drops[t(226)](1)}function drawRainBackground(){const t=_0x513593;ctxs.fillStyle="rgba(0, 0, 0, 0.05)",ctxs[t(258)](0,0,canva[t(248)],canva[t(227)]),ctxs.fillStyle=t(224),ctxs[t(212)]=fontSize+t(262);for(let n=0;n<drops[t(210)];n++){const e=letters[Math.floor(Math[t(247)]()*letters[t(210)])];ctxs.fillText(e,n*fontSize,drops[n]*fontSize),(drops[n]*fontSize>canva[t(227)]||Math[t(247)]()>.95)&&(drops[n]=0),drops[n]++}}resizeRainCanvas(),window[_0x513593(265)](_0x513593(233),resizeRainCanvas),setInterval(drawRainBackground,50);const nextPageBtn=document.getElementById(_0x513593(230));function showStickerAndButton(){const t=_0x513593;sticker[t(244)]&&sticker[t(244)]!==window[t(200)][t(191)]&&""!==sticker[t(244)].trim()&&(sticker[t(225)][t(192)]=t(229),nextPageBtn[t(225)][t(192)]=t(229)),setTimeout((()=>{const n=t;window.location[n(191)]="./galaxy.html"}),3e3)}function hideStickerAndButton(){const t=_0x513593;sticker[t(225)][t(192)]="none",nextPageBtn[t(225)][t(192)]=t(242)}function morphToNextText(){const t=_0x513593;if(currentIndex++,currentIndex>=texts.length)return particles=[],ctx[t(217)](0,0,canvas.width,canvas[t(227)]),canvas[t(225)].display=t(242),showStickerAndButton(),void(stopAnimation=!0);interpolateParticles(generateDots(texts[currentIndex])),lastMorphTime=Date.now()}function stopAnimationFunc(){const t=_0x513593;rotateWarning[t(225)][t(192)]="block",mainCanvas[t(225)].display="none",mainSticker[t(225)][t(192)]=t(242),window[t(228)]<=768&&window[t(220)]>window[t(228)]?nextPageBtn[t(225)][t(192)]="block":nextPageBtn[t(225)][t(192)]=t(242),stopAnimation=!0,animationRunning=!1}const canvas=document.getElementById(_0x513593(245)),ctx=canvas[_0x513593(215)]("2d"),isMobile=window[_0x513593(228)]<768,gap=isMobile?4:5,shapeCanvas=document[_0x513593(203)](_0x513593(245));shapeCanvas[_0x513593(248)]=canvas[_0x513593(248)]=window[_0x513593(228)],shapeCanvas[_0x513593(227)]=canvas[_0x513593(227)]=window[_0x513593(220)];const shapeCtx=shapeCanvas.getContext("2d");function _0xe018(t,n){const e=_0x4e46();return(_0xe018=function(t,n){return e[t-=188]})(t,n)}function _0x4e46(){const t=["1372950tltCda","ctrlKey","arc","appendChild","filter","div","fillRect","trim","5892RZEzzb","Chờ người dùng click để phát nhạc.","px Mali","innerHTML","catch","addEventListener","./img/nhac.mp3","9352qauVKl","body","href","display","paused","warn","now","abs","innerText","fillText","measureText","location","push","play","createElement","click","shiftKey","getElementById","sticker","bgm","2818408oBvZEi","length","keydown","font","speed","map","getContext","./img/a1.jpg","clearRect","262788RPWqMu","F12","innerHeight","max","6938130weAbwH","getImageData","rgb(195, 130, 255)","style","fill","height","innerWidth","block","nextPageBtn","data","2081877jpHDNd","resize","Không thể phát nhạc do trình duyệt.","split","hostname","rotateWarning","bold ","floor","beginPath","white","none","key","src","canvas","5680768WWqXQy","random","width","textBaseline","center","progress"];return(_0x4e46=function(){return t})()}let inputText="Em à|Thời gian trôi qua \nnhanh nhỉ |Anh không nghĩ \nchúng ta đã đi |được đến đây|vượt qua bao nhiêu\ngian khổ|những lần anh sai\nem đều tha thứ|Cảm ơn em vì đã\nở lại|Anh không biết\nnói gì nhiều| chỉ biết nói| Anh Yêu Em",gif=_0x513593(216);const sticker=document.getElementById(_0x513593(207));gif&&""!==gif[_0x513593(259)]()&&(sticker[_0x513593(244)]=decodeURIComponent(gif));const bgm=document[_0x513593(206)](_0x513593(208)),music=_0x513593(188);music&&""!==music[_0x513593(259)]()&&(bgm[_0x513593(244)]=decodeURIComponent(music),bgm[_0x513593(202)]()[_0x513593(264)]((()=>{const t=_0x513593;console[t(194)](t(261))})),document.addEventListener(_0x513593(204),(()=>{const t=_0x513593;bgm[t(193)]&&bgm[t(202)]().catch((()=>{const n=t;console[n(194)](n(234))}))})));const texts=inputText[_0x513593(235)]("|")[_0x513593(256)]((t=>""!==t[_0x513593(259)]()));let currentIndex=0,particles=[],morphDelay=600,lastMorphTime=Date[_0x513593(195)](),stopAnimation=!1;function getFittedFont(t){const n=_0x513593,e=t[n(235)]("\n");let a=200;shapeCtx[n(212)]=n(238)+a+n(262);let i=Math[n(221)](...e[n(214)]((t=>shapeCtx[n(199)](t)[n(248)]))),s=1.2*a*e[n(210)];for(;(i>.9*shapeCanvas[n(248)]||s>.8*shapeCanvas[n(227)])&&a>10;)a-=5,shapeCtx[n(212)]=n(238)+a+n(262),i=Math[n(221)](...e.map((t=>shapeCtx[n(199)](t)[n(248)]))),s=1.2*a*e.length;return a}function generateDots(t){const n=_0x513593;shapeCtx[n(217)](0,0,shapeCanvas.width,shapeCanvas.height);const e=t[n(235)]("\n"),a=getFittedFont(t);shapeCtx[n(212)]=n(238)+a+n(262),shapeCtx.fillStyle="#fff",shapeCtx.textAlign=n(250),shapeCtx[n(249)]="middle";const i=1.2*a,s=i*e[n(210)],o=shapeCanvas[n(227)]/2-s/2+i/2;for(let t=0;t<e.length;t++)shapeCtx[n(198)](e[t],shapeCanvas.width/2,o+t*i);const c=shapeCtx[n(223)](0,0,shapeCanvas[n(248)],shapeCanvas.height)[n(231)],r=[];for(let t=0;t<shapeCanvas[n(227)];t+=gap)for(let e=0;e<shapeCanvas[n(248)];e+=gap){c[4*(t*shapeCanvas[n(248)]+e)+3]>128&&r[n(201)]({x:e,y:t})}return r}function interpolateParticles(t){const n=_0x513593,e=Math[n(221)](particles[n(210)],t[n(210)]),a=[];for(let i=0;i<e;i++){const e=particles[i%particles[n(210)]]||{x:canvas[n(248)]/2,y:canvas[n(227)]/2},s=t[i%t[n(210)]];a[n(201)]({x:e.x,y:e.y,tx:s.x,ty:s.y,progress:0,speed:.02+.02*Math[n(247)]()})}particles=a}function updateParticles(){const t=_0x513593;for(let n of particles)n[t(251)]<1&&(n[t(251)]+=n.speed,n[t(251)]>1&&(n[t(251)]=1)),n.x+=(n.tx-n.x)*n[t(213)],n.y+=(n.ty-n.y)*n[t(213)]}function drawParticles(){const t=_0x513593;ctx.clearRect(0,0,canvas[t(248)],canvas[t(227)]);for(let n of particles)ctx.fillStyle=t(241),ctx[t(240)](),ctx[t(254)](n.x,n.y,isMobile?1.3:2.3,0,2*Math.PI),ctx[t(226)]()}function morphToNextText(){const t=_0x513593;if(currentIndex++,currentIndex>=texts[t(210)])return particles=[],ctx[t(217)](0,0,canvas[t(248)],canvas[t(227)]),canvas[t(225)][t(192)]=t(242),showStickerAndButton(),void(stopAnimation=!0);interpolateParticles(generateDots(texts[currentIndex])),lastMorphTime=Date[t(195)]()}function animate(){const t=_0x513593;if(stopAnimation)return;updateParticles(),drawParticles();particles.every((n=>Math[t(196)](n.x-n.tx)<.5&&Math.abs(n.y-n.ty)<.5))&&Date.now()-lastMorphTime>morphDelay&&morphToNextText(),requestAnimationFrame(animate)}const firstDots=generateDots(texts[0]);function isLandscape(){const t=_0x513593;return window[t(228)]>window[t(220)]}particles=firstDots[_0x513593(214)]((t=>({x:canvas[_0x513593(248)]/2,y:canvas[_0x513593(227)]/2,tx:t.x,ty:t.y,progress:0,speed:.2+.01*Math[_0x513593(247)]()}))),canvas.style.display=_0x513593(242),setTimeout((()=>{const t=_0x513593;canvas[t(225)][t(192)]="block",lastMorphTime=Date.now(),animate()}),1e3);const rotateWarning=document.getElementById(_0x513593(237)),mainCanvas=canvas,mainSticker=sticker;let animationRunning=!1;function startAnimation(){const t=_0x513593;if(rotateWarning[t(225)][t(192)]=t(242),stopAnimation&&currentIndex>=texts[t(210)])return canvas[t(225)][t(192)]=t(242),sticker[t(225)][t(192)]=t(229),void(nextPageBtn[t(225)][t(192)]=t(229));mainCanvas.style.display=t(229),mainSticker[t(225)][t(192)]="none",stopAnimation=!1,lastMorphTime=Date[t(195)](),!animationRunning&&(animationRunning=!0,animate())}function stopAnimationFunc(){const t=_0x513593;rotateWarning[t(225)][t(192)]=t(229),mainCanvas[t(225)][t(192)]=t(242),"block"!==sticker[t(225)][t(192)]&&(mainSticker[t(225)][t(192)]=t(242)),stopAnimation=!0,animationRunning=!1}function checkOrientationAndStart(){isLandscape()?startAnimation():stopAnimationFunc()}function onResizeOrOrientationChange(){const t=_0x513593;if(canvas[t(248)]=window[t(228)],canvas.height=window[t(220)],shapeCanvas.width=canvas.width,shapeCanvas.height=canvas[t(227)],resizeRainCanvas(),texts[currentIndex]){const n=generateDots(texts[currentIndex]);particles=n[t(214)]((n=>({x:canvas[t(248)]/2,y:canvas[t(227)]/2,tx:n.x,ty:n.y,progress:0,speed:.02+.02*Math.random()})))}checkOrientationAndStart()}window[_0x513593(265)](_0x513593(233),onResizeOrOrientationChange),window.addEventListener("orientationchange",onResizeOrOrientationChange),checkOrientationAndStart();const offi="mtajr0402.github.io",current=window[_0x513593(200)][_0x513593(236)];if(current!==offi){document.body[_0x513593(263)]="";const t=document.createElement(_0x513593(257)),n=document.createElement(_0x513593(257));n[_0x513593(197)]=" ",t[_0x513593(255)](n),document[_0x513593(190)][_0x513593(255)](t)}document.addEventListener(_0x513593(211),(function(t){const n=_0x513593;(t[n(243)]===n(219)||t[n(253)]&&t[n(205)]&&("I"===t[n(243)]||"J"===t.key)||t.ctrlKey&&"U"===t[n(243)])&&t.preventDefault()})),document[_0x513593(265)]("contextmenu",(function(t){t.preventDefault()}));